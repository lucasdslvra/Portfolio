{
  "published": true,
  "title": "Stage Agence Élixir",
  "description": "Ce stage m’a permis d’intervenir sur un environnement complet (web, mobile, API, base de données) et de refondre une solution existante pour l’adapter à plusieurs supports, tout en optimisant ses performances, sa sécurité et sa maintenabilité.",
  "date": "2025-06-10T00:00:00.000Z",
  "url": "https://www.plan-etudiant-besancon.com/",
  "repository": null,
  "body": {
    "raw": "\n## Introduction\n\nLors de mon stage de 4 mois à l’agence Élixir, j’ai été chargé de refondre le back-office de l’application mobile « Le Plan des Étudiants de Besançon ».\nCette refonte avait un double objectif : **adapter l’architecture aux différents supports** (mobile, web, back-office) et **optimiser le fonctionnement global** (performance, sécurité, maintenabilité). J’ai donc conçu une solution complète, de la base de données jusqu’aux interfaces, en passant par les API et les connexions entre composants.\n\n---\n\n## 1. Création d’un nouveau back-office sous Strapi\n\nL'ancien back-office, développé en PHP, n’était plus adapté. Il manquait de modularité, était difficile à maintenir, et ne proposait pas de gestion fine des rôles utilisateurs. Pour repartir sur une base saine, j’ai choisi d’utiliser **Strapi**, un CMS headless moderne, qui permet de générer une API personnalisable à partir de types de contenus définis graphiquement ou en code.\n\n\n![Strapi Content Type Builder](/images/content-type-builder.png)\n\n\n\nCette capture montre la construction d’un “Content-Type” dans Strapi pour gérer les partenaires. Chaque champ est typé (texte, image, relation, booléen, etc.) et peut être validé (ex : champ requis, longueur minimale). \nCe système me permet de définir précisément la structure des données tout en offrant à l’équipe une interface de gestion claire. Grâce à cette structuration, le back-office devient non seulement plus clair pour les utilisateurs, mais aussi plus robuste côté base de données.\n\n---\n\n## 2. Migration des données de l’ancien système\n\n\nL’ancien système contenait plusieurs années de données dans une base MySQL aux formats obsolètes. Strapi impose des structures spécifiques (champs `createdAt`, `documentId`, etc.), donc une migration manuelle était impossible. J’ai donc automatisé le processus via un script JavaScript.\n\n\n![Migration Script](/images/script-migration.png)\n\n\nLe script lit les anciennes tables, transforme les noms de champs, génère des identifiants manquants, et injecte les données dans la nouvelle base utilisée par Strapi.\nCela m’a permis de **gagner un temps considérable** tout en assurant l’exactitude des données transférées. Il reflète aussi une bonne capacité à comprendre deux systèmes hétérogènes et à construire une passerelle fiable entre eux.\n\n---\n\n## 3. Intégration de l’API dans l’application mobile\n\n\nL’application mobile existante fonctionnait avec l’ancienne API PHP. Pour assurer la transition sans tout réécrire, j’ai dû adapter les appels réseau de l’application pour qu’ils correspondent aux nouvelles routes de Strapi.\n\n![Appel API Mobile](/images/appel-api.png)\n\n\nL’image montre un exemple concret de refonte d’un appel réseau côté mobile. L’appel précédent utilisait une route PHP comme `/getPartenaires.php`, tandis que le nouveau fait appel à une route RESTful `/api/partenaires` exposée par Strapi.\nEn plus du changement de route, j’ai aussi dû **adapter la structure des données attendues**. Ce travail a nécessité un bon équilibre entre compréhension du code mobile, configuration de l’API, et transformation des données.\n\n---\n\n## 4. Mise en place du QR code utilisateur\n\n\nPour améliorer la traçabilité des interactions entre étudiants et partenaires, un système de QR code personnel a été mis en place. Chaque étudiant doit pouvoir afficher son code depuis l’application, et ce QR code doit être unique et stocké dans la base.\n\n<img\n  src=\"/images/qr-code.png\"\n  alt=\"QR Code Étudiant\"\n  style={{ display: \"block\", margin: \"0 auto\", maxWidth: \"300px\", height: \"auto\", alignSelf: \"center\" }}\n/>\n\nCette capture montre l’écran de profil d’un étudiant, où son QR code personnel est affiché. Côté API, j’ai créé un `Content-Type` QR Code avec une route personnalisée pour l’enregistrement.\nCe mécanisme garantit que **chaque étudiant a un seul QR code, toujours à jour**, et permet aux partenaires de scanner ce code pour comptabiliser les visites. L’aspect multi-support ressort ici clairement : base de données, API, et front mobile interagissent ensemble.\n\n---\n\n## 5. Problème d’authentification et compatibilité des hash\n\n\nLes mots de passe avaient été hashés avec une méthode différente dans l’ancien système. Résultat : impossibilité de se connecter avec les anciens comptes.\n\n\n![Hash Legacy](/images/ancien-hash.png)\nancien hash non conforme\n\n![Hash Strapi](/images/nouveau-hash.png)\nnouveau hash conforme à Strapi\n\n\nSur cette illustration, on voit la différence entre un hash “legacy” et un hash reconnu par Strapi. J’ai dû identifier la partie non conforme, corriger la base, et adapter la fonction de vérification de mot de passe dans Strapi. Cette solution **a évité la perte de tous les comptes étudiants**.\n\n---\n\n## 6. Développement d’un dashboard ReactJS pour les stats et QR partenaires\n\n\nPour visualiser les données d’utilisation de l’application, j’ai conçu une **interface complémentaire en ReactJS**, connectée à l’API Strapi.\n\n\n![Dashboard ReactJS](/images/graphique-accueil.png)\n\n![QR Code Partenaire](/images/qr-code-partenaire.png)\n\n\nLe visuel montre une interface claire affichant des métriques clés et un graphique dynamique. J’ai aussi intégré une section où l'on peut voir et **télécharger le QR code** du partenaire. Cela montre ma capacité à **développer un front web connecté à une API**, tout en gérant l’aspect ergonomique et la sécurité.\n\n---\n\n## Compétences acquises et validées\n\nÀ travers ces réalisations concrètes, j’ai validé plusieurs compétences de manière naturelle et démontrée :\n\n- J’ai **adapté une application à plusieurs supports** (mobile, web, back-office).\n- J’ai su **analyser des problèmes complexes** et les résoudre (migration, compatibilité de hash, sécurité).\n- J’ai maîtrisé Strapi, ReactJS, React Native et les APIs REST.\n- J’ai travaillé en autonomie, documenté mon code, et livré un système maintenable, en production.",
    "code": "var Component=(()=>{var u=Object.create;var s=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var b=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),f=(i,e)=>{for(var a in e)s(i,a,{get:e[a],enumerable:!0})},o=(i,e,a,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let t of m(e))!g.call(i,t)&&t!==a&&s(i,t,{get:()=>e[t],enumerable:!(r=p(e,t))||r.enumerable});return i};var v=(i,e,a)=>(a=i!=null?u(h(i)):{},o(e||!i||!i.__esModule?s(a,\"default\",{value:i,enumerable:!0}):a,i)),q=i=>o(s({},\"__esModule\",{value:!0}),i);var l=b((C,c)=>{c.exports=_jsx_runtime});var P={};f(P,{default:()=>k,frontmatter:()=>x});var n=v(l()),x={title:\"Stage Agence \\xC9lixir\",description:\"Ce stage m\\u2019a permis d\\u2019intervenir sur un environnement complet (web, mobile, API, base de donn\\xE9es) et de refondre une solution existante pour l\\u2019adapter \\xE0 plusieurs supports, tout en optimisant ses performances, sa s\\xE9curit\\xE9 et sa maintenabilit\\xE9.\",date:\"2025-06-10\",url:\"https://www.plan-etudiant-besancon.com/\",repository:null,published:!0};function d(i){let e=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",strong:\"strong\",hr:\"hr\",img:\"img\",code:\"code\",ul:\"ul\",li:\"li\"},i.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"introduction\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#introduction\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Introduction\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`Lors de mon stage de 4 mois \\xE0 l\\u2019agence \\xC9lixir, j\\u2019ai \\xE9t\\xE9 charg\\xE9 de refondre le back-office de l\\u2019application mobile \\xAB Le Plan des \\xC9tudiants de Besan\\xE7on \\xBB.\nCette refonte avait un double objectif\\u202F: `,(0,n.jsx)(e.strong,{children:\"adapter l\\u2019architecture aux diff\\xE9rents supports\"}),\" (mobile, web, back-office) et \",(0,n.jsx)(e.strong,{children:\"optimiser le fonctionnement global\"}),\" (performance, s\\xE9curit\\xE9, maintenabilit\\xE9). J\\u2019ai donc con\\xE7u une solution compl\\xE8te, de la base de donn\\xE9es jusqu\\u2019aux interfaces, en passant par les API et les connexions entre composants.\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.h2,{id:\"1-cr\\xE9ation-dun-nouveau-back-office-sous-strapi\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#1-cr\\xE9ation-dun-nouveau-back-office-sous-strapi\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"1. Cr\\xE9ation d\\u2019un nouveau back-office sous Strapi\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"L'ancien back-office, d\\xE9velopp\\xE9 en PHP, n\\u2019\\xE9tait plus adapt\\xE9. Il manquait de modularit\\xE9, \\xE9tait difficile \\xE0 maintenir, et ne proposait pas de gestion fine des r\\xF4les utilisateurs. Pour repartir sur une base saine, j\\u2019ai choisi d\\u2019utiliser \",(0,n.jsx)(e.strong,{children:\"Strapi\"}),\", un CMS headless moderne, qui permet de g\\xE9n\\xE9rer une API personnalisable \\xE0 partir de types de contenus d\\xE9finis graphiquement ou en code.\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/images/content-type-builder.png\",alt:\"Strapi Content Type Builder\"})}),`\n`,(0,n.jsx)(e.p,{children:`Cette capture montre la construction d\\u2019un \\u201CContent-Type\\u201D dans Strapi pour g\\xE9rer les partenaires. Chaque champ est typ\\xE9 (texte, image, relation, bool\\xE9en, etc.) et peut \\xEAtre valid\\xE9 (ex\\u202F: champ requis, longueur minimale).\nCe syst\\xE8me me permet de d\\xE9finir pr\\xE9cis\\xE9ment la structure des donn\\xE9es tout en offrant \\xE0 l\\u2019\\xE9quipe une interface de gestion claire. Gr\\xE2ce \\xE0 cette structuration, le back-office devient non seulement plus clair pour les utilisateurs, mais aussi plus robuste c\\xF4t\\xE9 base de donn\\xE9es.`}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.h2,{id:\"2-migration-des-donn\\xE9es-de-lancien-syst\\xE8me\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#2-migration-des-donn\\xE9es-de-lancien-syst\\xE8me\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"2. Migration des donn\\xE9es de l\\u2019ancien syst\\xE8me\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"L\\u2019ancien syst\\xE8me contenait plusieurs ann\\xE9es de donn\\xE9es dans une base MySQL aux formats obsol\\xE8tes. Strapi impose des structures sp\\xE9cifiques (champs \",(0,n.jsx)(e.code,{children:\"createdAt\"}),\", \",(0,n.jsx)(e.code,{children:\"documentId\"}),\", etc.), donc une migration manuelle \\xE9tait impossible. J\\u2019ai donc automatis\\xE9 le processus via un script JavaScript.\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/images/script-migration.png\",alt:\"Migration Script\"})}),`\n`,(0,n.jsxs)(e.p,{children:[`Le script lit les anciennes tables, transforme les noms de champs, g\\xE9n\\xE8re des identifiants manquants, et injecte les donn\\xE9es dans la nouvelle base utilis\\xE9e par Strapi.\nCela m\\u2019a permis de `,(0,n.jsx)(e.strong,{children:\"gagner un temps consid\\xE9rable\"}),\" tout en assurant l\\u2019exactitude des donn\\xE9es transf\\xE9r\\xE9es. Il refl\\xE8te aussi une bonne capacit\\xE9 \\xE0 comprendre deux syst\\xE8mes h\\xE9t\\xE9rog\\xE8nes et \\xE0 construire une passerelle fiable entre eux.\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.h2,{id:\"3-int\\xE9gration-de-lapi-dans-lapplication-mobile\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#3-int\\xE9gration-de-lapi-dans-lapplication-mobile\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"3. Int\\xE9gration de l\\u2019API dans l\\u2019application mobile\"]}),`\n`,(0,n.jsx)(e.p,{children:\"L\\u2019application mobile existante fonctionnait avec l\\u2019ancienne API PHP. Pour assurer la transition sans tout r\\xE9\\xE9crire, j\\u2019ai d\\xFB adapter les appels r\\xE9seau de l\\u2019application pour qu\\u2019ils correspondent aux nouvelles routes de Strapi.\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/images/appel-api.png\",alt:\"Appel API Mobile\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"L\\u2019image montre un exemple concret de refonte d\\u2019un appel r\\xE9seau c\\xF4t\\xE9 mobile. L\\u2019appel pr\\xE9c\\xE9dent utilisait une route PHP comme \",(0,n.jsx)(e.code,{children:\"/getPartenaires.php\"}),\", tandis que le nouveau fait appel \\xE0 une route RESTful \",(0,n.jsx)(e.code,{children:\"/api/partenaires\"}),` expos\\xE9e par Strapi.\nEn plus du changement de route, j\\u2019ai aussi d\\xFB `,(0,n.jsx)(e.strong,{children:\"adapter la structure des donn\\xE9es attendues\"}),\". Ce travail a n\\xE9cessit\\xE9 un bon \\xE9quilibre entre compr\\xE9hension du code mobile, configuration de l\\u2019API, et transformation des donn\\xE9es.\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.h2,{id:\"4-mise-en-place-du-qr-code-utilisateur\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#4-mise-en-place-du-qr-code-utilisateur\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"4. Mise en place du QR code utilisateur\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Pour am\\xE9liorer la tra\\xE7abilit\\xE9 des interactions entre \\xE9tudiants et partenaires, un syst\\xE8me de QR code personnel a \\xE9t\\xE9 mis en place. Chaque \\xE9tudiant doit pouvoir afficher son code depuis l\\u2019application, et ce QR code doit \\xEAtre unique et stock\\xE9 dans la base.\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/images/qr-code.png\",alt:\"QR Code \\xC9tudiant\",style:{display:\"block\",margin:\"0 auto\",maxWidth:\"300px\",height:\"auto\",alignSelf:\"center\"}}),`\n`,(0,n.jsxs)(e.p,{children:[\"Cette capture montre l\\u2019\\xE9cran de profil d\\u2019un \\xE9tudiant, o\\xF9 son QR code personnel est affich\\xE9. C\\xF4t\\xE9 API, j\\u2019ai cr\\xE9\\xE9 un \",(0,n.jsx)(e.code,{children:\"Content-Type\"}),` QR Code avec une route personnalis\\xE9e pour l\\u2019enregistrement.\nCe m\\xE9canisme garantit que `,(0,n.jsx)(e.strong,{children:\"chaque \\xE9tudiant a un seul QR code, toujours \\xE0 jour\"}),\", et permet aux partenaires de scanner ce code pour comptabiliser les visites. L\\u2019aspect multi-support ressort ici clairement : base de donn\\xE9es, API, et front mobile interagissent ensemble.\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.h2,{id:\"5-probl\\xE8me-dauthentification-et-compatibilit\\xE9-des-hash\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#5-probl\\xE8me-dauthentification-et-compatibilit\\xE9-des-hash\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"5. Probl\\xE8me d\\u2019authentification et compatibilit\\xE9 des hash\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Les mots de passe avaient \\xE9t\\xE9 hash\\xE9s avec une m\\xE9thode diff\\xE9rente dans l\\u2019ancien syst\\xE8me. R\\xE9sultat : impossibilit\\xE9 de se connecter avec les anciens comptes.\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.img,{src:\"/images/ancien-hash.png\",alt:\"Hash Legacy\"}),`\nancien hash non conforme`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.img,{src:\"/images/nouveau-hash.png\",alt:\"Hash Strapi\"}),`\nnouveau hash conforme \\xE0 Strapi`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Sur cette illustration, on voit la diff\\xE9rence entre un hash \\u201Clegacy\\u201D et un hash reconnu par Strapi. J\\u2019ai d\\xFB identifier la partie non conforme, corriger la base, et adapter la fonction de v\\xE9rification de mot de passe dans Strapi. Cette solution \",(0,n.jsx)(e.strong,{children:\"a \\xE9vit\\xE9 la perte de tous les comptes \\xE9tudiants\"}),\".\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.h2,{id:\"6-d\\xE9veloppement-dun-dashboard-reactjs-pour-les-stats-et-qr-partenaires\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#6-d\\xE9veloppement-dun-dashboard-reactjs-pour-les-stats-et-qr-partenaires\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"6. D\\xE9veloppement d\\u2019un dashboard ReactJS pour les stats et QR partenaires\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Pour visualiser les donn\\xE9es d\\u2019utilisation de l\\u2019application, j\\u2019ai con\\xE7u une \",(0,n.jsx)(e.strong,{children:\"interface compl\\xE9mentaire en ReactJS\"}),\", connect\\xE9e \\xE0 l\\u2019API Strapi.\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/images/graphique-accueil.png\",alt:\"Dashboard ReactJS\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/images/qr-code-partenaire.png\",alt:\"QR Code Partenaire\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Le visuel montre une interface claire affichant des m\\xE9triques cl\\xE9s et un graphique dynamique. J\\u2019ai aussi int\\xE9gr\\xE9 une section o\\xF9 l'on peut voir et \",(0,n.jsx)(e.strong,{children:\"t\\xE9l\\xE9charger le QR code\"}),\" du partenaire. Cela montre ma capacit\\xE9 \\xE0 \",(0,n.jsx)(e.strong,{children:\"d\\xE9velopper un front web connect\\xE9 \\xE0 une API\"}),\", tout en g\\xE9rant l\\u2019aspect ergonomique et la s\\xE9curit\\xE9.\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.h2,{id:\"comp\\xE9tences-acquises-et-valid\\xE9es\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#comp\\xE9tences-acquises-et-valid\\xE9es\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Comp\\xE9tences acquises et valid\\xE9es\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\xC0 travers ces r\\xE9alisations concr\\xE8tes, j\\u2019ai valid\\xE9 plusieurs comp\\xE9tences de mani\\xE8re naturelle et d\\xE9montr\\xE9e :\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"J\\u2019ai \",(0,n.jsx)(e.strong,{children:\"adapt\\xE9 une application \\xE0 plusieurs supports\"}),\" (mobile, web, back-office).\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"J\\u2019ai su \",(0,n.jsx)(e.strong,{children:\"analyser des probl\\xE8mes complexes\"}),\" et les r\\xE9soudre (migration, compatibilit\\xE9 de hash, s\\xE9curit\\xE9).\"]}),`\n`,(0,n.jsx)(e.li,{children:\"J\\u2019ai ma\\xEEtris\\xE9 Strapi, ReactJS, React Native et les APIs REST.\"}),`\n`,(0,n.jsx)(e.li,{children:\"J\\u2019ai travaill\\xE9 en autonomie, document\\xE9 mon code, et livr\\xE9 un syst\\xE8me maintenable, en production.\"}),`\n`]})]})}function S(i={}){let{wrapper:e}=i.components||{};return e?(0,n.jsx)(e,Object.assign({},i,{children:(0,n.jsx)(d,i)})):d(i)}var k=S;return q(P);})();\n;return Component;"
  },
  "_id": "projects/stage.mdx",
  "_raw": {
    "sourceFilePath": "projects/stage.mdx",
    "sourceFileName": "stage.mdx",
    "sourceFileDir": "projects",
    "contentType": "mdx",
    "flattenedPath": "projects/stage"
  },
  "type": "Project",
  "path": "/projects/stage",
  "slug": "stage"
}